version: v1beta2
images:
  default:
    image: devspace
    build:
      docker:
        skipPush: true
hooks:
  - command: echo
    flags:
      - before image building
    when:
      before:
        images: all
  - command: echo
    flags:
      - after image building
    when:
      after:
        images: all
  - command: echo
    flags:
      - before deploying
    when:
      before:
        deployments: all
  - command: echo
    flags:
      - after deploying
    when:
      after:
        deployments: all
  - command: echo
    flags:
      - before deployment my-deployment
    when:
      before:
        deployments: my-deployment
  - command: echo
    flags:
      - after deployment my-deployment
    when:
      after:
        deployments: my-deployment
deployments:
  - name: my-deployment
    component:
      containers:
        - image: devspace
